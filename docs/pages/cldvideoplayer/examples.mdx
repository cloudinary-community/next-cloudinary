import { useRef } from 'react';
import Head from 'next/head';
import { Callout } from 'nextra-theme-docs';

import { CldVideoPlayer, getCldImageUrl } from '../../../next-cloudinary';

import OgImage from '../../components/OgImage';
import HeaderImage from '../../components/HeaderImage';
import CodeBlock from '../../components/CodeBlock';

<Head>
  <title>CldVideoPlayer Examples - Next Cloudinary</title>
  <meta name="og:title" content="CldVideoPlayer Examples - Next Cloudinary" />
  <meta name="og:url" content={`https://next.cloudinary.dev/cldvideoplayer/examples`} />
</Head>

<OgImage
  title="CldVideoPlayer Examples"
  twitterTitle="CldVideoPlayer Examples"
/>

# CldVideoPlayer Examples


## Basic Usage

Standard Cloudinary Video Player with playback.

<HeaderImage>
  <CldVideoPlayer
    id="default"
    width="1620"
    height="1080"
    src={`${process.env.VIDEOS_DIRECTORY}/mountain-stars`}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="default"
    width="1620"
    height="1080"
    src="<Your Public ID>"
  />
  ```
</CodeBlock>

## Playback

### Adaptive Bitrate Streaming (ABR)

<HeaderImage>
  <CldVideoPlayer
    id="adaptive-bitrate-streaming"
    width="1620"
    height="1080"
    src={`${process.env.VIDEOS_DIRECTORY}/mountain-stars`}
    transformation={{
      streaming_profile: 'hd',
    }}
    sourceTypes={['hls']}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="adaptive-bitrate-streaming"
    width="1620"
    height="1080"
    src="<Your Public ID>"
    transformation={{
      streaming_profile: 'hd',
    }}
    sourceTypes={['hls']}
  />
  ```
</CodeBlock>


### Picture-in-Picture

Utilizes the browser's Picture-in-Picture API to create a floating video on top of other windows.

<HeaderImage>
  <CldVideoPlayer
    id="picture-in-picture"
    width="1620"
    height="1080"
    src={`${process.env.VIDEOS_DIRECTORY}/mountain-stars`}
    pictureInPictureToggle
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="picture-in-picture"
    width="1620"
    height="1080"
    src="<Your Public ID>"
    pictureInPictureToggle
  />
  ```
</CodeBlock>

## Player Customization

### Colors & Font

Changing the player theme using colors and fonts.

<HeaderImage>
  <CldVideoPlayer
    id="custom-colors-font"
    width="4096"
    height="2160"
    src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
    colors={{
      accent: '#ff0000',
      base: '#00ff00',
      text: '#0000ff'
    }}
    fontFace="Source Serif Pro"
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="custom-colors-font"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    colors={{
      accent: '#ff0000',
      base: '#00ff00',
      text: '#0000ff'
    }}
    fontFace="Source Serif Pro"
  />
  ```
</CodeBlock>

### Logo

Adding a custom logo to the player chrome

<HeaderImage>
  <CldVideoPlayer
    id="custom-logo"
    width="4096"
    height="2160"
    src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
    logo={{
      imageUrl: getCldImageUrl({
        src: `${process.env.ASSETS_DIRECTORY}/space-jelly-cosmo-helmet`
      }),
      onClickUrl: 'https://spacejelly.dev'
    }}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer, getCldImageUrl } from 'next-cloudinary';

  <CldVideoPlayer
    id="custom-logo"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    logo={{
      imageUrl: getCldImageUrl({
        src: '<Your Public ID>'
      }),
      // imageUrl: '<Your Image URL',
      onClickUrl: '<Your URL>'
    }}
  />
  ```
</CodeBlock>


### Poster URL

Allows you to change the poster used for the player.

<HeaderImage>
  <CldVideoPlayer
    id="poster-custom-url"
    width="4096"
    height="2160"
    src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
    poster={getCldImageUrl({ src: `${process.env.IMAGES_DIRECTORY}/turtle` })}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer, getCldImageUrl } from 'next-cloudinary';

  <CldVideoPlayer
    id="poster-custom-url"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    poster={getCldImageUrl({ src: '<Your Public ID>' })}
    // poster="<Your Remote URL>"
  />
  ```
</CodeBlock>

### Poster Transformations

Adding effects to the video's auto-generated thumb

<HeaderImage>
  <CldVideoPlayer
    id="poster-transformations"
    width="4096"
    height="2160"
    src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
    poster={{
      tint: 'equalize:80:blue:blueviolet'
    }}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="poster-transformations"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    poster={{
      tint: 'equalize:80:blue:blueviolet'
    }}
  />
  ```
</CodeBlock>


## Transformations

### Cropping & Resizing

<HeaderImage>
  <div className="w-full max-w-[500px] mx-auto">
    <CldVideoPlayer
      id="cropping-resizing"
      width="500"
      height="500"
      src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
      transformation={{
        width: 500,
        height: 500,
        crop: 'fill',
        gravity: 'auto'
      }}
    />
  </div>
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="cropping-resizing"
    width="500"
    height="500"
    src="<Your Public ID>"
    transformation={{
      width: 500,
      height: 500,
      crop: 'fill',
      gravity: 'auto'
    }}
  />
  ```
</CodeBlock>


### Image Overlays

Place an image over the video (Ex: watermarks).

<HeaderImage>
  <CldVideoPlayer
    id="image-overlays"
    width="1620"
    height="1080"
    src={`${process.env.VIDEOS_DIRECTORY}/mountain-stars`}
    transformation={{
      overlay: `${process.env.ASSETS_DIRECTORY}:space-jelly-cosmo-helmet`,
      width: 150,
      gravity: "south_east",
      x: 50,
      y: 50,
      opacity: 80
    }}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="image-overlays"
    width="1620"
    height="1080"
    src="<Your Public ID>"
    transformation={{
      overlay: '<Your Public ID>',
      width: 150,
      gravity: "south_east",
      x: 50,
      y: 50,
      opacity: 80
    }}
  />
  ```
</CodeBlock>

## Advanced

### Localization

Provides localization options for player labels.

Uses Video.js [JSON format](https://videojs.com/guides/languages/#json-format) to provide labels.

<HeaderImage>
  <CldVideoPlayer
    id="localization"
    width="4096"
    height="2160"
    src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
    language="es"
    languages={{
      es: {
        Play: "Reproducción",
        "Play Video": "Reproduce el Video",
        Pause: "Pausa",
        "Current Time": "Tiempo reproducido",
        Duration: "Duración total",
        "Remaining Time": "Tiempo restante",
        "Stream Type": "Tipo de secuencia",
        LIVE: "DIRECTO",
        Loaded: "Cargado",
        Progress: "Progreso",
        Fullscreen: "Pantalla completa",
        "Non-Fullscreen": "Pantalla no completa",
        Mute: "Silenciar",
        Unmute: "No silenciado",
        "Playback Rate": "Velocidad de reproducción",
        Subtitles: "Subtítulos",
        "subtitles off": "Subtítulos desactivados",
        Captions: "Subtítulos especiales",
        "captions off": "Subtítulos especiales desactivados",
        Chapters: "Capítulos",
        "Close Modal Dialog": "Cerca de diálogo modal",
        "You aborted the video playback":
          "Ha interrumpido la reproducción del vídeo.",
        "A network error caused the video download to fail part-way.":
          "Un error de red ha interrumpido la descarga del vídeo.",
        "The video could not be loaded, either because the server or network failed or because the format is not supported.":
          "No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.",
        "The video playback was aborted due to a corruption problem or because the video used features your browser did not support.":
          "La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.",
        "No compatible source was found for this video.":
          "No se ha encontrado ninguna fuente compatible con este vídeo."
      }
    }}
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  <CldVideoPlayer
    id="localization"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    language="es"
    languages={{
      es: {
        Play: "Reproducción",
        "Play Video": "Reproduce el Video",
        Pause: "Pausa",
        "Current Time": "Tiempo reproducido",
        Duration: "Duración total",
        "Remaining Time": "Tiempo restante",
        "Stream Type": "Tipo de secuencia",
        LIVE: "DIRECTO",
        Loaded: "Cargado",
        Progress: "Progreso",
        Fullscreen: "Pantalla completa",
        "Non-Fullscreen": "Pantalla no completa",
        Mute: "Silenciar",
        Unmute: "No silenciado",
        "Playback Rate": "Velocidad de reproducción",
        Subtitles: "Subtítulos",
        "subtitles off": "Subtítulos desactivados",
        Captions: "Subtítulos especiales",
        "captions off": "Subtítulos especiales desactivados",
        Chapters: "Capítulos",
        "Close Modal Dialog": "Cerca de diálogo modal",
        "You aborted the video playback": "Ha interrumpido la reproducción del vídeo.",
        "A network error caused the video download to fail part-way.": "Un error de red ha interrumpido la descarga del vídeo.",
        "The video could not be loaded, either because the server or network failed or because the format is not supported.": "No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.",
        "The video playback was aborted due to a corruption problem or because the video used features your browser did not support.": "La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.",
        "No compatible source was found for this video.": "No se ha encontrado ninguna fuente compatible con este vídeo."
      }
    }}
  />
  ```
</CodeBlock>

### Playback Events

Callbacks for player events.

export const VideoPlayerWithRef = () => {
  const myPlayerRef = useRef();
  return (
    <CldVideoPlayer
      playerRef={myPlayerRef}
      id="player-events"
      width="4096"
      height="2160"
      src={`${process.env.VIDEOS_DIRECTORY}/dog-running-snow`}
      onMetadataLoad={() => {
        console.log('[Cloudinary Video Player] metadata-loaded');
        console.log(`[Cloudinary Video Player] duration: ${myPlayerRef.current.duration()}`);
      }}
      onPlay={() => {
        console.log('[Cloudinary Video Player] play');
      }}
    />
  );
}

<HeaderImage>
  <VideoPlayerWithRef
    
  />
</HeaderImage>

<Callout emoji={false}>
  Note: the `player` instance is also passed in the callback function:
</Callout>

<CodeBlock className="mt-6">
  ```jsx copy showLineNumbers
  import { CldVideoPlayer } from 'next-cloudinary';

  const myPlayerRef = useRef();

  <CldVideoPlayer
    playerRef={myPlayerRef}
    id="player-events"
    width="4096"
    height="2160"
    src="<Your Public ID>"
    onMetadataLoad={() => {
      console.log('[Cloudinary Video Player] metadata-loaded');
      console.log(`[Cloudinary Video Player] duration: ${myPlayerRef.current.duration()}`);
    }}
    onPlay={() => {
      console.log('[Cloudinary Video Player] play');
    }}
  />
  ```
</CodeBlock>