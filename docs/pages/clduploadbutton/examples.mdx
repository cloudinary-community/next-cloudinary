import { useState } from 'react';
import Head from 'next/head';
import { Callout } from 'nextra-theme-docs';

import { CldUploadButton } from '../../../next-cloudinary';

import OgImage from '../../components/OgImage';
import ImageGrid from '../../components/ImageGrid';

import styles from '../../styles/Docs.module.scss';

<Head>
  <title>CldUploadButton Examples - Next Cloudinary</title>
  <meta name="og:title" content="CldUploadButton Examples - Next Cloudinary" />
  <meta name="og:url" content={`https://next.cloudinary.dev/clduploadbutton/examples`} />
</Head>

<OgImage
  title="CldUploadButton Examples"
  twitterTitle="CldUploadButton Examples"
/>

# CldUploadButton Examples

## Examples

<Callout type="info" emoji={false}>
  Button styles are not included as part of CldUploadButton and are only applied for this demo.
</Callout>

### Unsigned

export const UnsignedUpload = () => {
  const [resource, setResource] = useState();
  return (
    <>
      <p>
        <CldUploadButton
          className={styles.button}
          onUpload={(result, widget) => {
            setResource(result?.info);
            widget.close();
          }}
          uploadPreset="next-cloudinary-unsigned"
        />
      </p>

      <p><strong>URL:</strong> { resource?.secure_url || 'Upload to see example result.' }</p>
    </>
  )
}

<UnsignedUpload />

```
<CldUploadButton
  uploadPreset="<Upload Preset>"
/>
```

<Callout emoji={false}>
  The Upload Preset must have unsigned uploads enabled.  Learn more about <a href="https://cloudinary.com/documentation/upload_images#unauthenticated_requests">unauthenticated requests</a>.
</Callout>

### Signed

export const SignedUpload = () => {
  const [resource, setResource] = useState();
  return (
    <>
      <p>
        <CldUploadButton
          className={styles.button}
          onUpload={(result, widget) => {
            setResource(result?.info);
            widget.close();
          }}
          signatureEndpoint="/api/sign-cloudinary-params"
          uploadPreset="next-cloudinary-signed"
        />
      </p>

      <p><strong>URL:</strong> { resource?.secure_url || 'Upload to see example result.' }</p>
    </>
  )
}

<SignedUpload />

```
<CldUploadButton
  signatureEndpoint="<Endpoint (ex: /api/sign-cloudinary-params)>"
  uploadPreset="<Upload Preset>"
/>
```