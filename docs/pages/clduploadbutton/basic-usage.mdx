import { useState } from 'react';
import Head from 'next/head';
import { Callout } from 'nextra-theme-docs';

import { CldUploadButton } from '../../../next-cloudinary';

import OgImage from '../../components/OgImage';

import styles from '../../styles/Docs.module.scss';

<Head>
  <title>CldUploadButton - Next Cloudinary</title>
  <meta name="og:title" content="Getting Started with CldUploadButton - Next Cloudinary" />
  <meta name="og:url" content={`https://next-cloudinary.spacejelly.dev/clduploadbutton/basic-usage`} />
</Head>

<OgImage
  title="CldUploadButton"
  twitterTitle="Getting Started with CldUploadButton"
/>

# Getting Started with CldUploadButton

The CldUploadButton creates a button element that uses an instance of the [Cloudinary Upload Widget](https://cloudinary.com/documentation/upload_widget) to give you an easy way to add upload capabilities to your Next.js app.

The CldUploadButton component wraps the [CldUploadWidget](/components/clduploadwidget/basic-usage) component providing a pre-defined UI (a button). The same concepts apply, including having the option of using Signed or Unsigned uploads.

## Basic Usage

```jsx
import { CldUploadButton } from 'next-cloudinary';

<CldUploadButton uploadPreset="<Upload Preset>" />
```

<Callout emoji={false}>
  If using the Next.js 13 `app` directory, you must add the `use client;` directive at the top of your file.
</Callout>

export const UnsignedUpload = () => {
  const [resource, setResource] = useState();
  return (
    <>
      <CldUploadButton
        className={styles.button}
        onUpload={(result, widget) => {
          setResource(result?.info);
          widget.close();
        }}
        uploadPreset="next-cloudinary-unsigned"
      />
      <p>URL: { resource?.secure_url }</p>
    </>
  )
}

<div className="nx-mt-6">
<UnsignedUpload />
</div>

## Learn More about CldUploadButton
* [Configuration](/components/clduploadbutton/configuration)
* [Examples](/components/clduploadbutton/examples)