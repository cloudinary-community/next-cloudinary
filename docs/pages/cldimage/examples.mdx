import Head from 'next/head';
import { Callout, Tab, Tabs } from 'nextra-theme-docs';

import { CldImage } from '../../../next-cloudinary';

import OgImage from '../../components/OgImage';
import ImageGrid from '../../components/ImageGrid';
import HeaderImage from '../../components/HeaderImage';
import CodeBlock from '../../components/CodeBlock';

<Head>
  <title>CldImage Examples - Next Cloudinary</title>
  <meta name="og:title" content="CldImage Examples - Next Cloudinary" />
  <meta name="og:url" content={`https://next.cloudinary.dev/cldimage/examples`} />
</Head>

<OgImage
  title="CldImage Examples"
  twitterTitle="CldImage Examples"
/>

# CldImage Examples

## Basic Transformations

### Background Removal

#### Remove Background

`removeBackground`: Removes the background of the image using AI

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    removeBackground
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    removeBackground
    alt=""
  />
  ```
</CodeBlock>

#### Color Background

`background`: Specifies a color to use as a background.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    removeBackground
    background="blueviolet"
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    removeBackground
    background="blueviolet"
    alt=""
  />
  ```
</CodeBlock>

#### Image Background

`underlay`: Specifies a public ID to use as an underlaying image.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    removeBackground
    underlay={`${process.env.IMAGES_DIRECTORY}/galaxy`}
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    removeBackground
    underlay="<Your Public ID>"
    alt=""
  />
  ```
</CodeBlock>

### Cropping & Resizing

#### Cropping

`crop`: Specifies the mode to use when cropping an image based on the given dimensions.

> Note: By default, CldImage uses a gravity of auto, meaning the crop will automatically
position the subject in the center of the resulting image.

<HeaderImage>
  <CldImage
    width="300"
    height="300"
    src={`${process.env.IMAGES_DIRECTORY}/woman-headphones`}
    sizes="100vw"
    crop="thumb"
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="300"
    height="300"
    src="<Your Public ID>"
    sizes="100vw"
    crop="thumb"
    alt=""
  />
  ```
</CodeBlock>

#### Fill Parent

`fill`: a [Next Image feature](https://nextjs.org/docs/pages/api-reference/components/image#fill) that
renders an image that fills its parent, not requiring you to pass in a width or height.

You can optionally use this in conjunction with other transformations, such as Aspect Ratio, to automatically
crop to a specific ratio without specifying the width and height.

> Note: Aspect Ratio requires you to use a crop mode that actually crops the image such as "fill"

<HeaderImage>
  <div style={{ position: 'relative', width: '100%', aspectRatio: '16 / 9' }}>
    <CldImage
      src={`${process.env.IMAGES_DIRECTORY}/woman-headphones`}
      sizes="100vw"
      aspectRatio="16:9"
      crop="fill"
      fill={true}
      alt=""
    />
  </div>
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <div style={{ position: 'relative', aspectRatio: '16 / 9' }}>
    <CldImage
      src="<Your Public ID>"
      sizes="100vw"
      aspectRatio="16:9"
      crop="crop"
      fill={true}
      alt=""
    />
  ```
</CodeBlock>

### Generative Fill

`fillBackground`: Fills the background of an image using Generative AI

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    crop="pad"
    src={`${process.env.IMAGES_DIRECTORY}/woman-headphones`}
    sizes="100vw"
    fillBackground
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600" // Original 1440
    crop="pad"  // Returns the given size with padding
    src="<Your Public ID>"
    sizes="100vw"
    fillBackground
    alt=""
  />
  ```
</CodeBlock>

<Callout emoji={false}>
  The generative fill transformation is currently in Beta. <a href="https://cloudinary.com/documentation/transformation_reference#b_gen_fill">Learn more</a>.
</Callout>

### Generative Replace

`replace`: Replaces an object in an image using Generative AI

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    crop="fill"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    replace={['turtle', 'shark']}
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    crop="fill"
    src="<Your Public ID>"
    sizes="100vw"
    replace={['turtle', 'shark']}
    alt=""
  />
  ```
</CodeBlock>

<Callout emoji={false}>
  The generative replace transformation is currently in Beta. <a href="https://cloudinary.com/documentation/transformation_reference#e_gen_replace">Learn more</a>.
</Callout>


## Filters & Effects

### Blur

`blur`: Applies a blurring filter to an asset.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    blur="1200"
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';
  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    blur="1200"
    alt=""
  />
  ```
</CodeBlock>

### Grayscale

`grayscale`: Converts an image to grayscale (multiple shades of gray).

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    grayscale
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    grayscale
    alt=""
  />
  ```
</CodeBlock>

### Opacity

`opacity`: Controls the opacity level of an image.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    opacity="50"
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    opacity="50"
    alt=""
  />
  ```
</CodeBlock>

### Pixelate

`pixelate`: Applies a pixelation effect.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    pixelate
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    pixelate
    alt=""
  />
  ```
</CodeBlock>

### Tint

`tint`: Blends an image with one or more tint colors.

<HeaderImage>
  <CldImage
    width="960"
    height="600"
    src={`${process.env.IMAGES_DIRECTORY}/turtle`}
    sizes="100vw"
    tint="equalize:80:blue:blueviolet"
    alt=""
  />
</HeaderImage>

<CodeBlock>
  ```jsx copy showLineNumbers
  import { CldImage } from 'next-cloudinary';

  <CldImage
    width="960"
    height="600"
    src="<Your Public ID>"
    sizes="100vw"
    tint="equalize:80:blue:blueviolet"
    alt=""
  />
  ```
</CodeBlock>

### More Filters & Effects

Learn about what other filters and effects are supported on [CldImage Configuration](/cldimage/configuration).

## Image Overlays

<ImageGrid>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      effects={[
        {
          background: 'green'
        },
        {
          gradientFade: true
        },
        {
          gradientFade: 'symetric,x_0.5'
        }
      ]}
      alt=""
    />

    ### Multiple Effects

    ```jsx copy
    effects={[
      {
        background: 'green'
      },
      {
        gradientFade: true
      },
      {
        gradientFade: 'symetric,x_0.5'
      }
    ]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      sizes="(max-width: 480px) 100vw, 50vw"
      overlays={[{
        publicId: `${process.env.IMAGES_DIRECTORY}/earth`,
        position: {
          x: 50,
          y: 50,
          gravity: 'north_west',
        },
        effects: [
          {
            crop: 'fill',
            gravity: 'auto',
            width: 500,
            height: 500
          }
        ]
      }]}
      alt=""
    />

    ### Overlay Image by Public ID

    ```jsx copy
    overlays={[{
      publicId: `images/earth`,
      position: {
        x: 10,
        y: 10,
        gravity: 'north_west',
      },
      effects: [
        {
          crop: 'fill',
          gravity: 'auto',
          width: 500,
          height: 500
        }
      ]
    }]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      crop="fill"
      src={`${process.env.IMAGES_DIRECTORY}/white`}
      colorize="100,co_darkviolet"
      overlays={[{
        publicId: `images/earth`,
        effects: [
          {
            crop: 'fill',
            gravity: 'auto',
            width: 960,
            height: 600
          }
        ],
        appliedEffects: [
          {
            multiply: true
          }
        ]
      }]}
      alt=""
    />

    ### Overlay with Multiply Effect

    ```jsx copy
    overlays={[{
      publicId: `images/earth`,
      effects: [
        {
          crop: 'fill',
          gravity: 'auto',
          width: 960,
          height: 600
        }
      ],
      appliedEffects: [
        {
          multiply: true
        }
      ]
    }]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      crop="fill"
      src={`${process.env.IMAGES_DIRECTORY}/white`}
      colorize="100,co_darkviolet"
      overlays={[{
        publicId: `images/earth`,
        effects: [
          {
            crop: 'fill',
            gravity: 'auto',
            width: 960,
            height: 600
          }
        ],
        appliedEffects: [
          {
            screen: true
          }
        ]
      }]}
      sizes="(max-width: 480px) 100vw, 50vw"
      alt=""
    />

    ### Overlay with Screen Effect

    ```jsx copy
    overlays={[{
      publicId: `images/earth`,
      effects: [
        {
          crop: 'fill',
          gravity: 'auto',
          width: 960,
          height: 600
        }
      ],
      appliedEffects: [
        {
          screen: true
        }
      ]
    }]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      crop="fill"
      src={`${process.env.IMAGES_DIRECTORY}/white`}
      colorize="100,co_darkviolet"
      overlays={[{
        publicId: `images/earth`,
        effects: [
          {
            crop: 'fill',
            gravity: 'auto',
            width: 960,
            height: 600
          }
        ],
        appliedEffects: [
          {
            overlay: true
          }
        ]
      }]}
      sizes="(max-width: 480px) 100vw, 50vw"
      alt=""
    />

    ### Overlay with Overlay Effect

    ```jsx copy
    overlays={[{
      publicId: `images/earth`,
      effects: [
        {
          crop: 'fill',
          gravity: 'auto',
          width: 960,
          height: 600
        }
      ],
      appliedEffects: [
        {
          overlay: true
        }
      ]
    }]}
    ```
  </li>
</ImageGrid>

## Image Underlays

<ImageGrid>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      sizes="(max-width: 480px) 100vw, 50vw"
      removeBackground
      underlay="images/galaxy"
      alt=""
    />

    ### Background Removal with Underlay by Public ID

    ```jsx copy
    removeBackground
    underlay="images/galaxy"
    ```

    <Callout emoji={false}>
      Background removal requires the <a href="https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon">Cloudinary AI Background Removal</a> Add-On
    </Callout>
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      sizes="(max-width: 480px) 100vw, 50vw"
      removeBackground
      underlays={[
        {
          publicId: 'images/galaxy',
          width: 480,
          height: 600,
          crop: 'fill',
          position: {
            gravity: 'north_west'
          }
        },
        {
          publicId: 'images/mountain',
          width: 480,
          height: 600,
          crop: 'fill',
          position: {
            gravity: 'south_east'
          }
        },
      ]}
      alt=""
    />

    ### Background Removal with Multiple Underlays

    ```jsx copy
    removeBackground
    underlays={[
      {
        publicId: 'images/galaxy',
        width: 480,
        height: 600,
        crop: 'fill',
        position: {
          gravity: 'north_west'
        }
      },
      {
        publicId: 'images/mountain',
        width: 480,
        height: 600,
        crop: 'fill',
        position: {
          gravity: 'south_east'
        }
      },
    ]}
    ```

    <Callout emoji={false}>
      Background removal requires the <a href="https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon">Cloudinary AI Background Removal</a> Add-On
    </Callout>
  </li>
</ImageGrid>

## Text Overlays

<ImageGrid>
  <li>
    <CldImage
      width="1335"
      height="891"
      src={`${process.env.IMAGES_DIRECTORY}/galaxy`}
      sizes="(max-width: 480px) 100vw, 50vw"
      blur="2000"
      brightness="300"
      text="Cool Beans"
      alt=""
    />

    ### Text Overlay with text prop

    ```jsx copy
    text="Cool Beans"
    ```
  </li>
  <li>
    <CldImage
      width="1335"
      height="891"
      src={`${process.env.IMAGES_DIRECTORY}/galaxy`}
      sizes="(max-width: 480px) 100vw, 50vw"
      blur="2000"
      brightness="300"
      overlays={[{
        text: 'Cool Beans'
      }]}
      alt=""
    />

    ### Text Overlay with text string

    ```jsx copy
    overlays={[{
      text: 'Cool Beans'
    }]}
    ```
  </li>
  <li>
    <CldImage
      width="1335"
      height="891"
      src={`${process.env.IMAGES_DIRECTORY}/sneakers`}
      sizes="(max-width: 480px) 100vw, 50vw"
      overlays={[{
        width: 2670 - 20,
        crop: 'fit',
        position: {
          x: 140,
          y: 140,
          angle: -20,
          gravity: 'south_east',
        },
        text: {
          color: 'blueviolet',
          fontFamily: 'Source Sans Pro',
          fontSize: 160,
          fontWeight: 'bold',
          textDecoration: 'underline',
          letterSpacing: 14,
          text: 'Cool Beans'
        }
      }]}
      alt=""
    />

    ### Text Overlay with overlay configuration

    ```jsx copy
    overlays={[{
      width: 2670 - 20,
      crop: 'fit',
      position: {
        x: 10,
        y: 10,
        gravity: 'north_west',
      },
      text: {
        color: 'blueviolet',
        fontFamily: 'Source Sans Pro',
        fontSize: 160,
        fontWeight: 'bold',
        textDecoration: 'underline',
        letterSpacing: 14,
        text: 'Cool Beans'
      }
    }]}
    ```
  </li>
  <li>
    <CldImage
      width="1335"
      height="891"
      src={`${process.env.IMAGES_DIRECTORY}/galaxy`}
      sizes="(max-width: 480px) 100vw, 50vw"
      overlays={[{
        text: {
          color: 'white',
          fontFamily: 'Source Sans Pro',
          fontSize: 160,
          fontWeight: 'bold',
          text: 'Cool Beans'
        },
        effects: [
          {
            shear: '40:0',
            opacity: 50
          }
        ]
      }]}
      alt=""
    />

    ### Text Overlay with Effects

    ```jsx copy
    overlays={[{
      text: {
        color: 'white',
        fontFamily: 'Source Sans Pro',
        fontSize: 160,
        fontWeight: 'bold',
        text: 'Cool Beans'
      },
      effects: [
        {
          shear: '40:0',
          opacity: 50
        }
      ]
    }]}
    ```
  </li>
</ImageGrid>

## Flags

<ImageGrid>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      sizes="(max-width: 480px) 100vw, 50vw"
      flags={['keep_iptc']}
      quality="default"
      alt=""
    />

    ### Keep IPTC

    ```jsx copy
    flags={['keep_iptc']}
    quality="default"
    ```

    <Callout emoji={false}>
      The `keep_iptc` flag requires not including a quality of auto. Using `quality="default"` avoids setting the quality flag in the URL.
    </Callout>
  </li>
</ImageGrid>

## Other

<ImageGrid>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      sizes="(max-width: 480px) 100vw, 50vw"
      transformations={[
        'next-cloudinary-named-transformation'
      ]}
      alt=""
    />

    ### Named Transformations

    ```jsx copy
    transformations={[
      'next-cloudinary-named-transformation'
    ]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      rawTransformations={['c_crop,h_359,w_517,x_1200,y_100/c_scale,h_359,w_517/f_auto,q_auto']}
      sizes="(max-width: 480px) 100vw, 50vw"
      alt=""
    />

    ### Raw Transformations

    ```jsx copy
    rawTransformations={[
      // Example from Cloudinary Media Editor widget
      'c_crop,h_359,w_517,x_1483,y_0/c_scale,h_359,w_517/f_auto,q_auto'
    ]}
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`${process.env.IMAGES_DIRECTORY}/turtle`}
      strictTransformations
      alt=""
    />

    ### Strict Transformations

    ```jsx copy
    strictTransformations
    ```
  </li>
  <li>
    <CldImage
      width="960"
      height="600"
      src={`https://res.cloudinary.com/${process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}/image/upload/c_fill,h_300,w_250/e_blur:1000/v1/${process.env.IMAGES_DIRECTORY}/turtle`}
      preserveTransformations
      tint="equalize:80:blue:blueviolet"
      sizes="(max-width: 480px) 100vw, 50vw"
      alt=""
    />

    ### Preserve Transformations

    ```jsx copy
    src={`https://res.cloudinary.com/<Cloud Name>/image/upload/c_fill,h_300,w_250/e_blur:1000/v1/<Public ID>`}
    preserveTransformations
    tint="equalize:80:blue:blueviolet"
    ```
  </li>
</ImageGrid>